
<element-admin element="$ctrl.element"  on-change="$ctrl.onChange">
    <admin-title>
        Adresse
    </admin-title>
<admin-edit>
    <div ng-form name="fieldForm" class="form-group">
        <label for="Label" class="col-sm-3 col-md-3 col-xs-12 control-label">Libellé</label>
        <div class="col-sm-9 col-md-9 col-xs-12">
            <input type="text" name="field" id="Label" ng-model="$ctrl.element.data.markers.site.message" class="form-control"/>
        </div>
    </div>
    <div ng-form name="fieldForm" class="form-group">
        <label for="Street" class="col-sm-3 col-md-3 col-xs-12 control-label">Rue</label>
        <div class="col-sm-9 col-md-9 col-xs-12">
            <input type="text" name="field" id="Street" ng-model="$ctrl.element.data.address.street" ng-change="faVm.invalidAddress()" class="form-control"/>
        </div>
    </div>
    <div ng-form name="fieldForm" class="form-group">
        <label for="Complement" class="col-sm-3 col-md-3 col-xs-12 control-label">Complément adresse</label>
        <div class="col-sm-9 col-md-9 col-xs-12">
            <input type="text" name="field" id="Complement" ng-model="$ctrl.element.data.address.streetComplement" class="form-control"/>
        </div>
    </div>
    <div ng-form name="fieldForm" class="form-group">
        <label for="PostalCode" class="col-sm-3 col-md-3 col-xs-12 control-label">Code postal</label>
        <div class="col-sm-9 col-md-9 col-xs-12">
            <input type="text" name="field" id="PostalCode" ng-model="$ctrl.element.data.address.postalCode" ng-change="faVm.invalidAddress()" class="form-control"/>
        </div>
    </div>
    <div ng-form name="fieldForm" class="form-group">
        <label for="City" class="col-sm-3 col-md-3 col-xs-12 control-label">Ville</label>
        <div class="col-sm-9 col-md-9 col-xs-12">
            <input type="text" name="field" id="City" ng-model="$ctrl.element.data.address.city" ng-change="faVm.invalidAddress()" class="form-control"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-3 col-xs-6">
        </div>
        <div class="col-sm-9 col-xs-6 mw-action">
            <button type="button" class="btn btn-default" ng-click="$ctrl.geolocalize()"><span class="glyphicon glyphicon-search"></span><span>Valider adresse et centrer sur la carte</span></button>
            <p>
                Latitude: {{$ctrl.element.data.markers.site.lat}}
                Longitude {{$ctrl.element.data.markers.site.lng}}
                <span ng-if="$ctrl.element.data.address.valid"><img src="Content/images/p_ok.png" /></span>
                <span ng-if="!$ctrl.element.data.address.valid"><img src="Content/images/p_ko.png" /></span>
            </p>
        </div>
    </div>

    <div class="clearfix"></div>

    <div class="row">
        <div class="col-sm-1 col-md-1 col-xs-1"></div>
        <div class="col-sm-10 col-md-10 col-xs-10">
                <mw-loadable-map style="height: 480px;" element="$ctrl.element"></mw-loadable-map>
        </div>
        <div class="col-sm-1 col-md-1 col-xs-1"></div>

    </div>

</admin-edit>
<admin-view>
    <element-address ng-if="!$ctrl.isEditMode()" element="$ctrl.element"></element-address>
</admin-view>
</element-admin>