
<element-admin element="$ctrl.element">
    <admin-title>
        Horaires
    </admin-title>
    <admin-edit>


        <div ng-switch="$ctrl.element.$level.toString()">

            <div ng-switch-when="3">

                <div ng-form name="fieldForm" class="form-group" ng-repeat="day in $ctrl.element.data.days">
                    <label class="col-xs-12 control-label">{{day.label}}</label>
                    <div class=" col-xs-12">
                        <div class="row">
                            <div class="btn-group col-xs-12">
                                <label class="btn btn-default" ng-model="day.isOpen" uib-btn-radio="true">Ouvert</label>
                                <label class="btn btn-default" ng-model="day.isOpen" uib-btn-radio="false">Fermé</label>
                            </div>
                            <div class="col-xs-12">
                                <div class="row" ng-show="day.isOpen" ng-repeat="hour in day.hours">
                                    <div class="col-xs-6" uib-timepicker ng-model="hour.begin" hour-step="$ctrl.hstep" minute-step="$ctrl.mstep" show-meridian="$ctrl.ismeridian"></div>
                                    <div class="col-xs-6 " uib-timepicker ng-model="hour.end" hour-step="$ctrl.hstep" minute-step="$ctrl.mstep" show-meridian="$ctrl.ismeridian"></div>
                                    <div class="col-xs-12" style="min-width: 40px;">
                                        <button type="button" class="btn btn-danger" ng-click="$ctrl.delete(day,hour)" ng-show="$ctrl.isLastElement(day,hour) && $index>0"><span class="glyphicon glyphicon-remove"></span></button>
                                        <button type="button" class="btn btn-primary" ng-click="$ctrl.add(day)" ng-show="$ctrl.isLastElement(day,hour)"><span class="glyphicon glyphicon-plus"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div ng-switch-default>

                <div ng-form name="fieldForm" class="form-group" ng-repeat="day in $ctrl.element.data.days">
                    <label class="col-sm-2 col-md-2 col-xs-12 control-label">{{day.label}}</label>
                    <div class="col-sm-10 col-md-9 col-xs-12">
                        <div class="row">
                            <div class="btn-group col-xs-12 col-sm-3">
                                <label class="btn btn-default" ng-model="day.isOpen" uib-btn-radio="true">Ouvert</label>
                                <label class="btn btn-default" ng-model="day.isOpen" uib-btn-radio="false">Fermé</label>
                            </div>
                            <div class="col-xs-12 col-sm-9">
                                <div class="row" ng-show="day.isOpen" ng-repeat="hour in day.hours">
                                    <div class="col-xs-6 col-sm-5" uib-timepicker ng-model="hour.begin" hour-step="$ctrl.hstep" minute-step="$ctrl.mstep" show-meridian="$ctrl.ismeridian"></div>
                                    <div class="col-xs-6 col-sm-5" uib-timepicker ng-model="hour.end" hour-step="$ctrl.hstep" minute-step="$ctrl.mstep" show-meridian="$ctrl.ismeridian"></div>
                                    <div class="col-xs-12 col-sm-2" style="min-width: 40px;">
                                        <button type="button" class="btn btn-danger" ng-click="$ctrl.delete(day,hour)" ng-show="$ctrl.isLastElement(day,hour) && $index>0"><span class="glyphicon glyphicon-remove"></span></button>
                                        <button type="button" class="btn btn-primary" ng-click="$ctrl.add(day)" ng-show="$ctrl.isLastElement(day,hour)"><span class="glyphicon glyphicon-plus"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

       



    </admin-edit>
    <admin-view>
        <element-hours ng-show="!$ctrl.isEditMode()" element="$ctrl.element"></element-hours>
    </admin-view>
</element-admin>


